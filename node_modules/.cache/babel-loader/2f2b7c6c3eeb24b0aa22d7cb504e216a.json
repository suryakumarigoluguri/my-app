{"ast":null,"code":"var _jsxFileName = \"/home/surya/Desktop/my-app/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\nconst Component = React.Component;\nconst render = ReactDOM.render;\nvar val = \"all\";\nconst LOAD_STATE = {\n  SUCCESS: 'SUCCESS',\n  ERROR: 'ERROR',\n  LOADING: 'LOADING'\n};\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.myfun = () => {\n      console.log(\"buttonclicked\");\n\n      if (document.getElementById(\"myText\").value) {\n        val = document.getElementById(\"myText\").value;\n      } else {\n        val = \"all\";\n      }\n\n      this.fetchPhotos(1);\n      console.log(val);\n    };\n\n    this.state = {\n      photos: [],\n      totalPhotos: 0,\n      perPage: 7,\n      currentPage: 1,\n      loadState: LOAD_STATE.LOADING\n    };\n  }\n\n  componentDidMount() {\n    this.fetchPhotos(this.state.currentPage);\n  }\n\n  fetchPhotos(page) {\n    var self = this;\n    const perPage = this.state.perPage;\n    const _this$props = this.props,\n          appId = _this$props.appId,\n          baseUrl = _this$props.baseUrl;\n    const options = {\n      params: {\n        client_id: appId,\n        page: page,\n        per_page: perPage,\n        query: val\n      }\n    };\n    this.setState({\n      loadState: LOAD_STATE.LOADING\n    });\n    axios.get(baseUrl, options).then(response => {\n      self.setState({\n        photos: response.data.results,\n        totalPhotos: parseInt(response.headers['x-total']),\n        currentPage: page,\n        loadState: LOAD_STATE.SUCCESS\n      });\n    }).catch(() => {\n      this.setState({\n        loadState: LOAD_STATE.ERROR\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"app\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      defaultValue: \"Search\",\n      name: \"search\",\n      id: \"myText\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"search\",\n      onClick: this.myfun,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \" \\uD83D\\uDD0D\")), React.createElement(\"div\", {\n      id: \"value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(Pagination, {\n      current: this.state.currentPage,\n      total: this.state.totalPhotos,\n      perPage: this.state.perPage,\n      onPageChanged: this.fetchPhotos.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), this.state.loadState === LOAD_STATE.LOADING ? React.createElement(\"div\", {\n      className: \"loader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }) : React.createElement(List, {\n      data: this.state.photos,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst ListItem = ({\n  photo\n}) => {\n  return React.createElement(\"div\", {\n    key: photo.id,\n    className: \"grid__item card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card__body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: photo.urls.small,\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"card__footer media\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: photo.user.profile_image.small,\n    alt: \"\",\n    className: \"media__obj\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"media__body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: photo.user.portfolio_url,\n    target: \"_blank\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, photo.user.name))));\n};\n\nconst List = ({\n  data\n}) => {\n  var items = data.map(photo => React.createElement(ListItem, {\n    key: photo.id,\n    photo: photo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }));\n  return React.createElement(\"div\", {\n    className: \"grid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, items);\n};\n\nclass Pagination extends Component {\n  pages() {\n    var pages = [];\n\n    for (var i = this.rangeStart(); i <= this.rangeEnd(); i++) {\n      pages.push(i);\n    }\n\n    ;\n    return pages;\n  }\n\n  rangeStart() {\n    var start = this.props.current - this.props.pageRange;\n    return start > 0 ? start : 1;\n  }\n\n  rangeEnd() {\n    var end = this.props.current + this.props.pageRange;\n    var totalPages = this.totalPages();\n    return end < totalPages ? end : totalPages;\n  }\n\n  totalPages() {\n    return Math.ceil(this.props.total / this.props.perPage);\n  }\n\n  nextPage() {\n    return this.props.current + 1;\n  }\n\n  prevPage() {\n    return this.props.current - 1;\n  }\n\n  hasFirst() {\n    return this.rangeStart() !== 1;\n  }\n\n  hasLast() {\n    return this.rangeEnd() < this.totalPages();\n  }\n\n  hasPrev() {\n    return this.props.current > 1;\n  }\n\n  hasNext() {\n    return this.props.current < this.totalPages();\n  }\n\n  changePage(page) {\n    this.props.onPageChanged(page);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"pagination\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pagination__left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      className: !this.hasPrev() ? 'hidden' : '',\n      onClick: e => this.changePage(this.prevPage()),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"Prev\")), React.createElement(\"div\", {\n      className: \"pagination__mid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: !this.hasFirst() ? 'hidden' : '',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      onClick: e => this.changePage(1),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"1\")), React.createElement(\"li\", {\n      className: !this.hasFirst() ? 'hidden' : '',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"...\"), this.pages().map((page, index) => {\n      return React.createElement(\"li\", {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"#\",\n        onClick: e => this.changePage(page),\n        className: this.props.current == page ? 'current' : '',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, page));\n    }), React.createElement(\"li\", {\n      className: !this.hasLast() ? 'hidden' : '',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"...\"), React.createElement(\"li\", {\n      className: !this.hasLast() ? 'hidden' : '',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      onClick: e => this.changePage(this.totalPages()),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, this.totalPages())))), React.createElement(\"div\", {\n      className: \"pagination__right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      className: !this.hasNext() ? 'hidden' : '',\n      onClick: e => this.changePage(this.nextPage()),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"Next\")));\n  }\n\n}\n\n;\nPagination.defaultProps = {\n  pageRange: 2\n};\nexport default App;","map":{"version":3,"sources":["/home/surya/Desktop/my-app/src/App.js"],"names":["React","ReactDOM","axios","Component","render","val","LOAD_STATE","SUCCESS","ERROR","LOADING","App","constructor","myfun","console","log","document","getElementById","value","fetchPhotos","state","photos","totalPhotos","perPage","currentPage","loadState","componentDidMount","page","self","props","appId","baseUrl","options","params","client_id","per_page","query","setState","get","then","response","data","results","parseInt","headers","catch","bind","ListItem","photo","id","urls","small","user","profile_image","portfolio_url","name","List","items","map","Pagination","pages","i","rangeStart","rangeEnd","push","start","current","pageRange","end","totalPages","Math","ceil","total","nextPage","prevPage","hasFirst","hasLast","hasPrev","hasNext","changePage","onPageChanged","e","index","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\n\n\nconst { Component } = React;\nconst { render } = ReactDOM;\nvar val=\"all\";\n\nconst LOAD_STATE = {\n  SUCCESS: 'SUCCESS',\n  ERROR: 'ERROR',\n  LOADING: 'LOADING'\n};\n\nclass App extends Component {\n  myfun = () => {\n  console.log(\"buttonclicked\")\n  if (document.getElementById(\"myText\").value){\n      val=document.getElementById(\"myText\").value;}\n  else{\n    val=\"all\";\n  }\n  this.fetchPhotos(1);\n  console.log(val);\n  }\n  constructor() {\n    super();\n    this.state = {\n      photos: [],\n      totalPhotos: 0,\n      perPage: 7,\n      currentPage: 1,\n      loadState: LOAD_STATE.LOADING\n    }\n  }\n  \n  componentDidMount() {\n    this.fetchPhotos(this.state.currentPage);\n  }\n  \n  fetchPhotos(page) {\n    var self = this;\n    const { perPage } = this.state;\n    const { appId, baseUrl } = this.props;\n    const options = {\n      params: {\n        client_id: appId,\n        page: page,\n        per_page: perPage,\n        query: val\n      }\n    };\n    \n    this.setState({ loadState: LOAD_STATE.LOADING });\n    axios.get(baseUrl, options)\n      .then((response) => {\n        self.setState({\n          photos: response.data.results,\n          totalPhotos: parseInt(response.headers['x-total']),\n          currentPage: page,\n          loadState: LOAD_STATE.SUCCESS\n        });\n      })\n      .catch(() => {\n        this.setState({ loadState: LOAD_STATE.ERROR });\n      });\n  }\n  \n  \n  render() {\n   \n    return (\n       \n      <div className=\"app\">\n        <div>\n        <input type=\"text\" defaultValue=\"Search\" name=\"search\" id=\"myText\"/>\n       <button type=\"search\" onClick={this.myfun}> &#128269;\n        </button>\n        </div>\n        <div id=\"value\"></div>\n        <Pagination\n          current={this.state.currentPage}\n          total={this.state.totalPhotos} \n          perPage={this.state.perPage} \n          onPageChanged={this.fetchPhotos.bind(this)}\n        />\n        {this.state.loadState === LOAD_STATE.LOADING\n            ? <div className=\"loader\"></div>\n            : <List data={this.state.photos} />  \n          }\n        \n      </div>\n    )\n  }\n}\n\nconst ListItem = ({ photo }) => {\n  return (\n    <div key={photo.id} className=\"grid__item card\">\n      <div className=\"card__body\">\n        <img src={photo.urls.small} alt=\"\" />\n      </div>\n      <div className=\"card__footer media\">\n        <img src={photo.user.profile_image.small} alt=\"\" className=\"media__obj\" />\n        <div className=\"media__body\">\n          <a href={photo.user.portfolio_url} target=\"_blank\">{ photo.user.name }</a>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst List = ({ data }) => {\n  var items = data.map(photo => <ListItem key={photo.id} photo={photo}/>);\n  return (\n    <div className=\"grid\">\n      { items }\n    </div>\n  )\n}\n\nclass Pagination extends Component {  \n  pages() {\n    var pages = [];\n    for(var i = this.rangeStart(); i <= this.rangeEnd(); i++) {\n      pages.push(i)\n    };\n    return pages;\n  }\n\n  rangeStart() {\n    var start = this.props.current - this.props.pageRange;\n    return (start > 0) ? start : 1\n  }\n\n  rangeEnd() {\n    var end = this.props.current + this.props.pageRange;\n    var totalPages = this.totalPages();\n    return (end < totalPages) ? end : totalPages;\n  }\n\n  totalPages() {\n    return Math.ceil(this.props.total / this.props.perPage);\n  }\n\n  nextPage() {\n    return this.props.current + 1;\n  }\n\n  prevPage() {\n    return this.props.current - 1;\n  }\n  \n  hasFirst() {\n    return this.rangeStart() !== 1\n  }\n\n  hasLast() {\n    return this.rangeEnd() < this.totalPages();\n  }\n\n  hasPrev() {\n    return this.props.current > 1;\n  }\n\n  hasNext() {\n    return this.props.current < this.totalPages();\n  }\n\n  changePage(page) {\n    this.props.onPageChanged(page);\n  }\n\n  render() {\n    return (\n      <div className=\"pagination\">\n        <div className=\"pagination__left\">\n          <a href=\"#\" className={!this.hasPrev() ? 'hidden': ''}\n            onClick={e => this.changePage(this.prevPage())}\n          >Prev</a>\n        </div>\n\n        <div className=\"pagination__mid\">\n          <ul>\n            <li className={!this.hasFirst() ? 'hidden' : ''}>\n              <a href=\"#\" onClick={e => this.changePage(1)}>1</a>\n            </li>\n            <li className={!this.hasFirst() ? 'hidden' : ''}>...</li>\n            {\n              this.pages().map((page, index) => {\n                return (\n                  <li key={index}>\n                    <a href=\"#\"\n                      onClick={e => this.changePage(page)}\n                      className={ this.props.current == page ? 'current' : '' }\n                    >{ page }</a>\n                  </li>\n                );\n              })\n            }\n            <li className={!this.hasLast() ? 'hidden' : ''}>...</li>\n            <li className={!this.hasLast() ? 'hidden' : ''}>\n              <a href=\"#\" onClick={e => this.changePage(this.totalPages())}>{ this.totalPages() }</a>\n            </li>\n          </ul>\n        </div>\n\n        <div className=\"pagination__right\">\n          <a href=\"#\" className={!this.hasNext() ? 'hidden' : ''}\n            onClick={e => this.changePage(this.nextPage())}\n          >Next</a>\n        </div>\n      </div>\n    );    \n  }\n};\n\nPagination.defaultProps = {\n  pageRange: 2\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}